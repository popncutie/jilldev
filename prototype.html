<!DOCTYPE html>
<meta charset="utf-8">
<html>
	<head>
		<title>#jilldev</title>
		
		<style>
			* {padding: 0; margin: 0;}		
		</style>
		
		<script src="./pixi.js/bin/pixi.js"></script>
		
		<script>
			var renderer,
				stage,
				testSprite;
			
			function init() {
				// based on info and code from https://github.com/kittykatattack/learningPixi
				
				//Create the renderer
				renderer = PIXI.autoDetectRenderer(256, 256);
				renderer.view.style.position = "absolute"
				renderer.view.style.display = "block";
				renderer.autoResize = true;
				renderer.resize(window.innerWidth, window.innerHeight);

				//Add the canvas to the HTML document
				document.body.appendChild(renderer.view);

				//Create a container object called the `stage`
				stage = new PIXI.Container();
				
				// Set a BG color
				renderer.backgroundColor = 0x061639;
				
				// Load resources
				PIXI.loader
					.add("orb-pink", "res/orb-pink.png")
					.load(onLoadResources);
				
				//Tell the `renderer` to `render` the `stage`
				renderer.render(stage);
			}
			
			function onLoadResources() {
				// Create a sprite with the test texture, add it to the stage, render
				testSprite = new PIXI.Sprite(
					PIXI.loader.resources["orb-pink"].texture
				);
				
				stage.addChild(testSprite);
				
				gameLoop();
			}
			
			function gameLoop() {
				//Loop this function at 60 frames per second
			  	requestAnimationFrame(gameLoop);
			  	
			  	// adjust for window size
			  	if (renderer.width != window.innerWidth || renderer.height != window.Height) {
					renderer.resize(window.innerWidth, window.innerHeight);
				}
							  	
			  	// move the test sprite nowhere in particular
			  	testSprite.x += 5-Math.random()*10;
			  	testSprite.y += 5-Math.random()*10;
			  	
			  	if (testSprite.x  < -testSprite.width/2) {
			  		testSprite.x = -testSprite.width/2;
			  	}
			  	if (testSprite.y  < -testSprite.height/2) {
			  		testSprite.y = -testSprite.height/2;
			  	}
			  					
				renderer.render(stage);
			}
		</script>
	</head>
	<body onload="init();">
	</body>
</html>